<template>
	<div class="page-container">
		<div class="home-header">
			<div>
				<div class="icon">
					<img src="./img/navi_title_v6.png" width="100%" alt="">
				</div>
				<div class="search">
					<div>
						<div class="search-icon">
							<img src="./img/search.png" width="100%" alt="">
						</div>
						<span>搜一搜</span>
					</div>
				</div>
			</div>
		</div>
		<div class="home-content">
			<div class="banner">
				<div class="container">
					<div class="scroll-container" ref="scroll">
						<ul class="scroll-content" ref="scrollContent">
							<li>
								<img src="./img/banner08.jpeg" width="100%" alt="">
							</li>
							<li>
								<img src="./img/banner01.jpeg" width="100%" alt="">
							</li>
							<li>
								<img src="./img/banner02.jpeg" width="100%" alt="">
							</li>
							<li>
								<img src="./img/banner03.jpeg" width="100%" alt="">
							</li>
							<li>
								<img src="./img/banner04.png" width="100%" alt="">
							</li>
							<li>
								<img src="./img/banner05.jpeg" width="100%" alt="">
							</li>
							<li>
								<img src="./img/banner06.jpeg" width="100%" alt="">
							</li>
							<li>
								<img src="./img/banner07.jpeg" width="100%" alt="">
							</li>
							<li>
								<img src="./img/banner08.jpeg" width="100%" alt="">
							</li>
							<li>
								<img src="./img/banner01.jpeg" width="100%" alt="">
							</li>
						</ul>
					</div>
				</div>
			</div>
			<div class="nav">
				<div class="nav-content">
					<div class="nav-icon">
						<img src="./img/nav01.png" width="100%" alt="">
					</div>
					<span>上新精选</span>
				</div>
				<div class="nav-content">
					<div class="nav-icon">
						<img src="./img/nav02.png" width="100%" alt="">
					</div>
					<span>小米众筹</span>
				</div>
				<div class="nav-content">
					<div class="nav-icon">
						<img src="./img/nav03.png" width="100%" alt="">
					</div>
					<span>有品秒杀</span>
				</div>
				<div class="nav-content">
					<div class="nav-icon">
						<img src="./img/nav04.png" width="100%" alt="">
					</div>
					<span>热销排行</span>
				</div>
				<div class="nav-content">
					<div class="nav-icon">
						<img src="./img/nav05.png" width="100%" alt="">
					</div>
					<span>小米自营</span>
				</div>
				<div class="nav-content">
					<div class="nav-icon">
						<img src="./img/nav06.png" width="100%" alt="">
					</div>
					<span>下单立返</span>
				</div>
				<div class="nav-content">
					<div class="nav-icon">
						<img src="./img/nav07.png" width="100%" alt="">
					</div>
					<span>9.9包邮</span>
				</div>
				<div class="nav-content">
					<div class="nav-icon">
						<img src="./img/nav08.png" width="100%" alt="">
					</div>
					<span>有品直播</span>
				</div>
				<div class="nav-content">
					<div class="nav-icon">
						<img src="./img/nav09.png" width="100%" alt="">
					</div>
					<span>小米庄园</span>
				</div>
				<div class="nav-content">
					<div class="nav-icon">
						<img src="./img/nav10.png" width="100%" alt="">
					</div>
					<span>智能生活</span>
				</div>
			</div>
			<div class="appointment">
				<img src="./img/appointment.gif" width="100%" alt="">
			</div>
			<div class="double12">
				<img src="./img/double12.gif" width="100%" alt="">
			</div>
			<!-- 优惠内容 -->
			<div class="discount">
				<div class="container">
					<div>
						<img src="./img/image01.png" width="100%" alt="">
					</div>
					<div>
						<img src="./img/image02.png" width="100%" alt="">
					</div>
					<div>
						<img src="./img/image03.png" width="100%" alt="">
					</div>
					<div>
						<img src="./img/image04.png" width="100%" alt="">
					</div>
					<div>
						<img src="./img/image05.png" width="100%" alt="">
					</div>
					<div>
						<img src="./img/image06.png" width="100%" alt="">
					</div>
					<div>
						<img src="./img/image07.png" width="100%" alt="">
					</div>
					<div>
						<img src="./img/image08.png" width="100%" alt="">
					</div>
				</div>
			</div>
			<div class="selected">
				<div class="container">
					<div class="selected-title">
						<span>上新精选</span>
					</div>
					<ul>
						<li>
							<div class="img">
								<img src="./img/selected01.png" width="100%" alt="">
							</div>
							<div class="words">Note 9 Pro 5G</div>
						</li>
						<li>
							<div class="img">
								<img src="./img/selected02.png" width="100%" alt="">
							</div>
							<div class="words">智能助听器</div>
						</li>
						<li>
							<div class="img">
								<img src="./img/selected03.png" width="100%" alt="">
							</div>
							<div class="words">智能动感单车</div>
						</li>
						<li>
							<div class="img">
								<img src="./img/selected04.png" width="100%" alt="">
							</div>
							<div class="words">智能LED吸顶灯</div>
						</li>
						<li>
							<div class="img">
								<img src="./img/selected05.png" width="100%" alt="">
							</div>
							<div class="words">石墨烯电发热马甲</div>
						</li>
						<li>
							<div class="img">
								<img src="./img/selected06.png" width="100%" alt="">
							</div>
							<div class="words">SK-II精华露</div>
						</li>
						<li>
							<div class="img">
								<img src="./img/selected07.png" width="100%" alt="">
							</div>
							<div class="words">高精度厨房电子秤</div>
						</li>
						<li>
							<div class="img">
								<img src="./img/selected08.png" width="100%" alt="">
							</div>
							<div class="words">小米主机 Pro</div>
						</li>
						<li>
							<div class="img">
								<img src="./img/selected09.png" width="100%" alt="">
							</div>
							<div class="words">Redmi Note 9 4G</div>
						</li>
						<li>
							<div class="img">
								<img src="./img/selected10.png" width="100%" alt="">
							</div>
							<div class="words">智能真空储粮桶</div>
						</li>
						<li>
							<div class="img">
								<img src="./img/selected11.png" width="100%" alt="">
							</div>
							<div class="words">米家对开门冰箱</div>
						</li>
						<li>
							<div class="img">
								<img src="./img/selected12.png" width="100%" alt="">
							</div>
							<div class="words">素氏电动剃须刀</div>
						</li>
						<li>
							<div class="img">
								<img src="./img/selected13.png" width="100%" alt="">
							</div>
							<div class="words">Amazfit Pop Pro</div>
						</li>
						<li>
							<div class="img">
								<img src="./img/selected14.png" width="100%" alt="">
							</div>
							<div class="words">睡眠耳塞</div>
						</li>
					</ul>
				</div>
			</div>
		</div>
		<div class="home-footer">
			<mi-nav></mi-nav>
		</div>
	</div>
</template>

<script type="text/ecmascript-6">
        import imagesLoaded from "imagesloaded";
        import IScroll from "iscroll";
        import MiNav from "../../components/mi-nav"

        export default {
                name: "Home",
                components: {
                        "mi-nav": MiNav,
                },
	        //创建
	        beforeCreate(){
                        //无法使用this关键字
			console.log("组件创建前调用了beforeCreate")
	        },
//                watch:{
//                        banner(){
//                                this.$refs.scrollContent.style.width = 1000 +"%";
//                                this.$nextTick(() => {
//                                        imagesLoaded(this.$refs.scrollContent,() => {
//                                                this.$nextTick(() => {
//                                                        this.scroll = new IScroll(this.$refs.scroll,{
//                                                                scrollY:false,//关闭竖向滚动
//                                                                scrollX:true,//开启横向滚动
//                                                                snap:true,//开启轮播图模滚动（开启对齐模式）
//                                                                momentum:false,//关闭惯性滚动
//                                                        });
//                                                        this.scroll.on("scrollStart",() => clearTimeout(this.timer))
//                                                        this.scroll.on("scrollEnd",() => {
//                                                                this.bannerCount ++
//                                                                this.scroll.disable();
//                                                                if (this.scroll.currentPage.pageX === 0) {
//                                                                        this.scroll.goToPage(8, 0, 0);
//                                                                } else if (this.scroll.currentPage.pageX === 10) {
//                                                                        this.scroll.goToPage(1, 0, 0);
//                                                                } else {}
//                                                                this.scroll.enable();
//                                                                this.timer = setTimeout(() => this.scroll.next(),3000)
//                                                        });
//                                                        this.scroll.goToPage(1,0,0);
////                                                        this.timer = setTimeout(() => this.scroll.next(),3000)
//                                                        this.timer = setTimeout(() => {
//                                                                this.scroll.next();
//                                                        },3000)
//
//                                                })
//                                        })
//
//                                })
//                        }
//                },
	        created(){
                        console.log("组件创建后调用了created");
//			this.$confirm("要下课了吗")
//				.then(() => {
//                                        this.$alert("干饭！")
//                                })
		        this.$loading.show();
		        setTimeout(() => {
                               this.$loading.close();
		        },5000)
	        },
	        //挂载
		beforeMount(){
                        console.log("组件挂载前调用了beforeMount")
	        },
		mounted(){
                        console.log("组件挂载后调用了mounted")
		},
	        //更新(父元素传过来的数据或者data里的数据变化就会触发)
		beforeUpdate(){
                        console.log("组件更新前调用了beforeUpdate")
		},
	        updated(){
		        //相当于自带$nextTick()
                        console.log("组件更新后调用了updated")
	        },
	        //销毁(切换网页就销毁)
		beforeDestroy(){
                        console.log("组件销毁前调用了beforeDestroy")
	        },
	        destroyed(){
                        //无法使用this关键字
                        console.log("组件销毁后调用了destroyed")
		},

        };
</script>

<style scoped>
	.page-container {
		width: 100%;
		height: 100%;
		display: flex;
		flex-direction: column;
		background-color: rgb(244, 244, 244);
	}

	/*.container{width: 100%; }*/
	.scroll-container {width: 100%; overflow: hidden;touch-action: pan-x;}
	ul.scroll-content{white-space: nowrap;font-size: 0}
	ul.scroll-content li{display: inline-block;width: 100vw}
	ul.scroll-content li img{width: 100%}



	.home-header {
		width: 100%;
		height: 14.933333vw;
		flex-shrink: 0;
		background-color: rgb(132, 93, 50);
	}

	.home-header > div {
		height: 100%;
		padding: 0 15px;
		display: flex;
		align-items: center;
	}

	.icon {
		width: 9.6vw;
	}

	.search {
		flex: 1;
		height: 8.533333vw;
		margin-left: 10px;

		background-color: rgb(240, 240, 240);
		border-radius: 25px;
	}

	.search > div {
		display: flex;
		align-items: center;
		height: 100%;
		padding: 0 15px;
		color: rgb(164, 164, 164);
		font-size: 14px;
	}

	.search-icon {
		width: 4.8vw;
		height: 4.8vw;
		margin-right: 10px;
	}

	.home-content {
		width: 100%;
		flex: 1;
		overflow: auto;
	}

	.nav {
		display: flex;
		flex-wrap: wrap;
		justify-content: space-evenly;
		background-color: rgb(255, 245, 243);
	}

	.nav-content {
		width: 18%;
		padding: 10px 0;
		display: flex;
		flex-direction: column;
		align-items: center;
	}

	.nav-icon {
		width: 13.333333vw;
		height: 13.333333vw;
	}

	.nav-content span {
		font-size: 12px;
		margin-top: 5px;
	}

	.discount .container {
		padding: 10px;
		display: flex;
		flex-wrap: wrap;
	}

	.discount .container > div {
		width: 25%;
		margin-top: 5px;
	}

	.selected {
		margin: 10px 0;
	}

	.selected .container {
		margin: 10px;
		background-color: white;
		border-radius: 10px;
	}

	.selected-title {
		padding: 10px;
		font-size: 18px;
		font-weight: 700;
	}

	.selected .container ul {
		padding: 10px 0 10px 10px;
		overflow: auto;
		white-space: nowrap;
	}

	.selected .container ul li {
		width: 24.8vw;
		display: inline-block;
	}

	.selected .container ul li:nth-child(1) {
		background-color: rgb(237, 246, 248);
	}

	.selected .container ul li:nth-child(2) {
		background-color: rgb(252, 247, 241);
	}

	.selected .container img {
		width: 24.8vw;
		height: 24.8vw;
	}

	.selected .container .words {
		width: 24.8vw;
		height: 9.333333vw;
		font-size: 12px;
		color: rgb(51, 51, 51);
		text-align: center;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	.home-footer {
		width: 100%;
		height: 13.333333vw;
		flex-shrink: 0;
		background-color: white;
	}
</style>